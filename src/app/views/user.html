<link href="/assets/css/user.css" rel="stylesheet">
<link href="/assets/css/navbar.css" rel="stylesheet">

<nav class="navbar navbar-expand-lg navbar-light ">
    <a class="navbar-brand" href="/user"> <img id="logo" src="/assets/imagenes/logo.png" alt=""> </a>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active"><a class="nav-link" href="/user">Home<span class="sr-only">(current)</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/userFavoritos">Favoritos</a></li>
            <li class="nav-item"><a class="nav-link" href="/animal-new">Dar en adopción</a></li>
            <li class="nav-item"><a class="nav-link" href="animalesUser">Mis animales</a></li>
            <li class="nav-item"><a class="nav-link" href="/userInteresesMenu">Mis intereses</a></li>
            <li class="nav-item"><a class="nav-link" href="/user-edit">Editar perfil</a></li>
            <li class="nav-item"><a class="nav-link" href="/login/1">Salir</a></li>
        </ul>

    </div>
</nav>

<h1><span>H</span><span>O</span><span>M</span><span>E</span></h1>

<div class="loader" *ngIf="loading == 'show'">
    <img src="assets/imagenes/loader.gif" alt="">
</div>

<div class="col-md-12">
    <div class="animales">

        <div class="alert alert-danger" role="alert" *ngIf="animales && animales.length == 0">
            <strong>No tenemos más animales para dar en adopción.</strong>
            <a href="/animal-new" class="btn btn-primary">Dar en adopción</a>
        </div>

        <div class="alert alert-danger" role="alert" *ngIf="status == 'No hay animales'">
            <strong>No tenemos animales con ese criterio de búsqueda.</strong>
        </div>

        <div class="alert alert-danger" role="alert" *ngIf="status == 'error'">
            <strong>¡ Error en la búsqueda !</strong>
        </div>

        <form class="col-md-12" role="search">
            <div class="form-group col-md-4">
                <label for="exampleFormControlSelect1">Selecciona el tipo de animal</label>
                <select class="form-control" id="exampleFormControlSelect1" name="tipo" [(ngModel)]="tipo">
                    <option value="">Selecciona un tipo</option>
                    <option value="">Todos los tipos</option>
                    <option value="Perro">Perro</option>
                    <option value="Gato">Gato</option>
                    <option value="Pajaro">Pajaro</option>
                    <option value="Conejo">Conejo</option>
                    <option value="Tortuga">Tortuga</option>
                    <option value="Roedor">Roedor</option>
                    <option value="Pez">Pez</option>
                    <option value="Reptil">Reptil</option>
                    <option value="Otro">Otro</option>
                </select>
            </div>

            <div class="form-group col-md-4">
                <label for="exampleFormControlSelect3">Selecciona la provincia del animal</label>
                <select class="form-control" id="exampleFormControlSelect1" name="provincia" [(ngModel)]="provincia">
                    <option value="">Elige Provincia</option>
                    <option value="">Todas las provincias</option>
                    <option value="Álava/Araba">Álava/Araba</option>
                    <option value="Albacete">Albacete</option>
                    <option value="Alicante">Alicante</option>
                    <option value="Almería">Almería</option>
                    <option value="Asturias">Asturias</option>
                    <option value="Ávila">Ávila</option>
                    <option value="Badajoz">Badajoz</option>
                    <option value="Baleares">Baleares</option>
                    <option value="Barcelona">Barcelona</option>
                    <option value="Burgos">Burgos</option>
                    <option value="Cáceres">Cáceres</option>
                    <option value="Cádiz">Cádiz</option>
                    <option value="Cantabria">Cantabria</option>
                    <option value="Castellón">Castellón</option>
                    <option value="Ceuta">Ceuta</option>
                    <option value="Ciudad Real">Ciudad Real</option>
                    <option value="Córdoba">Córdoba</option>
                    <option value="Cuenca">Cuenca</option>
                    <option value="Gerona/Girona">Gerona/Girona</option>
                    <option value="Granada">Granada</option>
                    <option value="Guadalajara">Guadalajara</option>
                    <option value="Guipúzcoa/Gipuzkoa">Guipúzcoa/Gipuzkoa</option>
                    <option value="Huelva">Huelva</option>
                    <option value="Huesca">Huesca</option>
                    <option value="Jaén">Jaén</option>
                    <option value="La Coruña/A Coruña">La Coruña/A Coruña</option>
                    <option value="La Rioja">La Rioja</option>
                    <option value="Las Palmas">Las Palmas</option>
                    <option value="León">León</option>
                    <option value="Lérida/Lleida">Lérida/Lleida</option>
                    <option value="Lugo">Lugo</option>
                    <option value="Madrid">Madrid</option>
                    <option value="Málaga">Málaga</option>
                    <option value="Melilla">Melilla</option>
                    <option value="Murcia">Murcia</option>
                    <option value="Navarra">Navarra</option>
                    <option value="Orense/Ourense">Orense/Ourense</option>
                    <option value="Palencia">Palencia</option>
                    <option value="Pontevedra">Pontevedra</option>
                    <option value="Salamanca">Salamanca</option>
                    <option value="Segovia">Segovia</option>
                    <option value="Sevilla">Sevilla</option>
                    <option value="Soria">Soria</option>
                    <option value="Tarragona">Tarragona</option>
                    <option value="Tenerife">Tenerife</option>
                    <option value="Teruel">Teruel</option>
                    <option value="Toledo">Toledo</option>
                    <option value="Valencia">Valencia</option>
                    <option value="Valladolid">Valladolid</option>
                    <option value="Vizcaya/Bizkaia">Vizcaya/Bizkaia</option>
                    <option value="Zamora">Zamora</option>
                    <option value="Zaragoza">Zaragoza</option>
                </select>
            </div>

            <div class="clearfix"></div>
            <div class="form-group col-md-10">
                <input type="text" class="form-control" placeholder="¿Quieres buscar por el nombre del animal?" name="searchString" [(ngModel)]="searchString">
            </div>
            <button type="submit" (click)="search()">
                Buscar
            </button>
        </form>

        <!--NUEVO*******************-->
        <div id="contenedor">
            <figure class="image-block" *ngFor="let animal of animales" class="animal-item">
                <img src="/assets/imagenes/animales/{{animal.imagenes[0].imagen}}" alt="" />
                <figcaption>
                    <h3>
                        Me llamo {{animal.nombre}}
                    </h3>
                    <p>¿Te gustaría saber más sobre mi?</p>
                    <button>
			        <a style="text-decoration:none;color:rgb(61, 62, 64);" [routerLink]="['animal-adoptar', animal.id]">¡Conóceme!</a>
		            </button>
                </figcaption>
            </figure>
        </div>

        <ul style="margin-left:50%" class="pagination" id="contenedorPag" *ngIf="animales && animales.length >= 1">
            <li id="pag">
                <a [routerLink]="['/user/index', pagePrev]" aria-label="Previous">
                    <img style src="/assets/imagenes/rotate.png">
                </a>
            </li>

            <li *ngFor="let page of pagesTotal">
                <a style="text-decoration:none;color:rgb(61, 62, 64);padding:5px; font-size:20px;" [routerLink]="['/user/index', page+1]">{{page+1}}</a>
            </li>

            <li id="pag">
                <a [routerLink]="['/user/index', pageNext]" aria-label="Next">
                    <img src="/assets/imagenes/flecha-correcta.png">
                </a>
            </li>
        </ul>

    </div>
</div>

<footer style="background-color: rgb(101, 91, 91);
  position: absolute;
  width: 100%;
  height: 40px;
  color: white;
  text-align:center;
  margin-top:10%;">
    <p>Copyright &copy; 2022 Apipet, todos los derechos reservados.</p>
</footer>