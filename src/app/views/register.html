<link href="/assets/css/register.css" rel="stylesheet">
<h1>{{title}}</h1>

<div class="alert alert-success" *ngIf="status == 'success'">
    ¡ Te has registrado correctamente ! Logueate desde
    <a [routerLink]="['/login']">aquí</a>.
</div>

<div class="alert alert-danger" *ngIf="status == 'error'">
    ¡Error, no se ha podido registrar el usuario !
</div>

<div class="alert alert-danger" *ngIf="status == 'error edad'">
    ¡Error, no puedes ser menor de edad !
</div>

<div class="alert alert-danger" *ngIf="status == 'error password'">
    ¡Error, los password no coinciden !
</div>

<div class="alert alert-danger" *ngIf="status == 'error telefono'">
    ¡Error, el telefono debe de ser correcto !
</div>

<div class="card">
    <div class="card-body">
        <form #registerForm="ngForm" (ngSubmit)="enviarDatos()" enctype="multipart/form-data">
            <div class="group">
                <input placeholder="Introduzca su nombre" type="text" class="form-control" class="input" name="nombre" id="nombre" #nombre="ngModel" [(ngModel)]="user.nombre" required aria-describedby="helpId">
            </div>
            <div class="group">
                <input placeholder="Introduzca sus apellidos" type="text" class="form-control" class="input" name="apellidos" id="apellidos" #apellidos="ngModel" [(ngModel)]="user.apellidos" required aria-describedby="helpId">
            </div>
            <div>
                <label class="form-control" class="input" for="fechaNacimiento">Fecha de nacimiento</label>
                <input type="date" id="edad" name="edad" class="form-control" class="input" #edad="ngModel" [(ngModel)]="user.edad" required>
            </div>
            <div class="group">
                <input placeholder="Introduzca su email" type="email" class="form-control" class="input" name="email" id="email" #email="ngModel" [(ngModel)]="user.email" required aria-describedby="helpId">
            </div>
            <div class="group">
                <input placeholder="Introduzca su password" type="password" class="form-control" class="input" name="password" id="password" #password="ngModel" [(ngModel)]="user.password" required aria-describedby="helpId">
            </div>
            <div class="group">
                <input placeholder="Repita su password" type="password" class="form-control" class="input" name="password1" id="password1" aria-describedby="helpId" required>
            </div>
            <div class="group">
                <select class="form-control" id="exampleFormControlSelect1" name="ciudad" class="input" #ciudad="ngModel" [(ngModel)]="user.ciudad" required aria-describedby="helpId">
                    <option value="">Elige Provincia</option>
                    <option value="Álava/Araba">Álava/Araba</option>
                    <option value="Albacete">Albacete</option>
                    <option value="Alicante">Alicante</option>
                    <option value="Almería">Almería</option>
                    <option value="Asturias">Asturias</option>
                    <option value="Ávila">Ávila</option>
                    <option value="Badajoz">Badajoz</option>
                    <option value="Baleares">Baleares</option>
                    <option value="Barcelona">Barcelona</option>
                    <option value="Burgos">Burgos</option>
                    <option value="Cáceres">Cáceres</option>
                    <option value="Cádiz">Cádiz</option>
                    <option value="Cantabria">Cantabria</option>
                    <option value="Castellón">Castellón</option>
                    <option value="Ceuta">Ceuta</option>
                    <option value="Ciudad Real">Ciudad Real</option>
                    <option value="Córdoba">Córdoba</option>
                    <option value="Cuenca">Cuenca</option>
                    <option value="Gerona/Girona">Gerona/Girona</option>
                    <option value="Granada">Granada</option>
                    <option value="Guadalajara">Guadalajara</option>
                    <option value="Guipúzcoa/Gipuzkoa">Guipúzcoa/Gipuzkoa</option>
                    <option value="Huelva">Huelva</option>
                    <option value="Huesca">Huesca</option>
                    <option value="Jaén">Jaén</option>
                    <option value="La Coruña/A Coruña">La Coruña/A Coruña</option>
                    <option value="La Rioja">La Rioja</option>
                    <option value="Las Palmas">Las Palmas</option>
                    <option value="León">León</option>
                    <option value="Lérida/Lleida">Lérida/Lleida</option>
                    <option value="Lugo">Lugo</option>
                    <option value="Madrid">Madrid</option>
                    <option value="Málaga">Málaga</option>
                    <option value="Melilla">Melilla</option>
                    <option value="Murcia">Murcia</option>
                    <option value="Navarra">Navarra</option>
                    <option value="Orense/Ourense">Orense/Ourense</option>
                    <option value="Palencia">Palencia</option>
                    <option value="Pontevedra">Pontevedra</option>
                    <option value="Salamanca">Salamanca</option>
                    <option value="Segovia">Segovia</option>
                    <option value="Sevilla">Sevilla</option>
                    <option value="Soria">Soria</option>
                    <option value="Tarragona">Tarragona</option>
                    <option value="Tenerife">Tenerife</option>
                    <option value="Teruel">Teruel</option>
                    <option value="Toledo">Toledo</option>
                    <option value="Valencia">Valencia</option>
                    <option value="Valladolid">Valladolid</option>
                    <option value="Vizcaya/Bizkaia">Vizcaya/Bizkaia</option>
                    <option value="Zamora">Zamora</option>
                    <option value="Zaragoza">Zaragoza</option>
                </select>
            </div>
            <div class="group">
                <input placeholder="Introduzca su telefono" type="text" class="form-control" class="input" name="telefono" id="telefono" #telefono="ngModel" [(ngModel)]="user.telefono" pattern="[0-9]{9}" required aria-describedby="helpId">
            </div>
            <input type="file" (change)="fileChangeEvent($event)" /> &nbsp;&nbsp;
            <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="1 / 1" [resizeToWidth]="200" [imageQuality]="100" format="png" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady()"
                (loadImageFailed)="loadImageFailed()">
            </image-cropper>

            <img [src]="croppedImage" />

            <br>
            <div class="btn-group" role="group" aria-label="">
                <button type="submit" class="btn btn-success" [disabled]="!registerForm.form.valid">Registro<span></span></button>
                <button type="button" routerLink="/" class="btn btn-primary">Cancelar<span></span></button>
            </div>

        </form>
    </div>
</div>